(function(t){function e(e){for(var a,o,c=e[0],s=e[1],u=e[2],h=0,l=[];h<c.length;h++)o=c[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&l.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},o={app:0},r={app:0},i=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-1000482b":"24d7b1dc","chunk-26a1cc87":"fe137c58","chunk-6e6026d0":"81409c55","chunk-5d218ef6":"5f70df8e","chunk-2d0b309a":"888b6eef","chunk-2d2389e4":"cb6fb164","chunk-594dae29":"86a0bfdb","chunk-6b3767aa":"fec7783f","chunk-11b721de":"51752829","chunk-6edad318":"e0a94694","chunk-a020d27c":"3f585119"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-1000482b":1,"chunk-26a1cc87":1,"chunk-5d218ef6":1,"chunk-594dae29":1,"chunk-6b3767aa":1,"chunk-11b721de":1,"chunk-6edad318":1,"chunk-a020d27c":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-1000482b":"f815c805","chunk-26a1cc87":"813fad90","chunk-6e6026d0":"31d6cfe0","chunk-5d218ef6":"6140b8e3","chunk-2d0b309a":"31d6cfe0","chunk-2d2389e4":"31d6cfe0","chunk-594dae29":"08decb02","chunk-6b3767aa":"31d4f8e7","chunk-11b721de":"fdaeeff7","chunk-6edad318":"59e98030","chunk-a020d27c":"94ef442f"}[t]+".css",r=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],h=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(h===a||h===r))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],h=u.getAttribute("data-href");if(h===a||h===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[t],f.parentNode.removeChild(f),n(i)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){o[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=i);var u,h=document.createElement("script");h.charset="utf-8",h.timeout=120,s.nc&&h.setAttribute("nonce",s.nc),h.src=c(t);var l=new Error;u=function(e){h.onerror=h.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}r[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:h})}),12e4);h.onerror=h.onload=u,document.head.appendChild(h)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/mi-shop-page/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],h=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=h;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56cc":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"loading-bar",class:t.nowStatus},[n("span",{staticClass:"press"})]),n("div",{staticClass:"app-init"},[n("transition",{attrs:{name:t.transitionName}},[n("router-view")],1)],1),n("footer",{staticClass:"footer clear",class:{leave:t.leaveComp}},[n("div",{staticClass:"footer-item",class:{active:t.isActive("home")},on:{click:function(e){return t.open("/home")}}},[t._m(0),n("p",{staticClass:"name"},[t._v("首页")])]),n("div",{staticClass:"footer-item",class:{active:t.isActive("classification")},on:{click:function(e){return t.open("/classification")}}},[t._m(1),n("p",{staticClass:"name"},[t._v("分类")])]),n("div",{staticClass:"footer-item shop-car",class:{active:t.isActive("shoppingcart")},on:{click:function(e){return t.open("/shoppingcart")}}},[t._m(2),n("p",{staticClass:"name"},[t._v("购物车")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.getShopCarLength>0,expression:"getShopCarLength > 0"}],staticClass:"num",class:{full:parseInt(t.getShopCarLength)>=99}},[t._v(t._s(t.getShopCarLength>=99?"99+":t.getShopCarLength))])]),n("div",{staticClass:"footer-item",class:{active:t.isActive("mine")},on:{click:function(e){return t.open("/mine")}}},[t._m(3),n("p",{staticClass:"name"},[t._v("我的")])])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"icon"},[n("span",{staticClass:"iconfont icon-shouye"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"icon"},[n("span",{staticClass:"iconfont icon-fenlei"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"icon"},[n("span",{staticClass:"iconfont icon-gouwuche"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"icon"},[n("span",{staticClass:"iconfont icon-smile"})])}],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),c=n("d225"),s=n("b0b4"),u=function(){function t(){Object(c["a"])(this,t),this.render()}return Object(s["a"])(t,[{key:"render",value:function(){var t="orientationchange"in window?"orientationchange":"resize",e=10;function n(){var t=document.documentElement,a=t.clientWidth;return t.clientWidth>720?a=720:t.clientWidth<320&&(a=320),t.style.fontSize=a/e+"px",n}window.addEventListener(t,n()),document.addEventListener("touchstart",(function(t){t.touches.length>1&&t.preventDefault()}));var a=0;document.addEventListener("touchend",(function(t){var e=(new Date).getTime();e-a<=300&&t.preventDefault(),a=e}),!1)}}]),t}(),h=u,l=n("2f62");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}new h;var d={name:"app",data:function(){return{transitionName:"slide-go",nowUrl:"/"}},watch:{$route:function(t,e){e.query.time?t.query.time>e.query.time?this.transitionName="slide-go":this.transitionName="slide-back":this.transitionName="slide-go",this.nowUrl=t.fullPath}},computed:p({},Object(l["b"])(["nowStatus","getShopCarLength"]),{leaveComp:function(){for(var t=!0,e=["home","classification","shoppingcart","mine"],n=0;n<e.length;n++)this.isActive(e[n])&&(t=!1);return this.isActive("shoppingcart")&&this.getShopCarLength>0&&(t=!0),t}}),methods:{open:function(t){this.$router.openPage(t)},isActive:function(t){return-1!=this.nowUrl.indexOf(t)}}},m=d,v=(n("cf25"),n("2877")),g=Object(v["a"])(m,o,r,!1,null,null,null),b=g.exports,y=n("8c4f"),k=n("2ef0"),w=n.n(k);y["a"].prototype.openPage=function(t,e){this.push({path:t,query:w.a.assignIn({time:(new Date).getTime()},e||{})})},a["a"].use(y["a"]);var C=new y["a"]({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:function(t){Promise.all([n.e("chunk-1000482b"),n.e("chunk-26a1cc87")]).then(function(){var e=[n("7abe")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/classification",name:"classification",component:function(t){n.e("chunk-594dae29").then(function(){var e=[n("bc3f")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/shoppingcart",name:"shoppingcart",component:function(t){n.e("chunk-6edad318").then(function(){var e=[n("62f2")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/mine",name:"mine",component:function(t){n.e("chunk-a020d27c").then(function(){var e=[n("b5b1")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/search",name:"search",component:function(t){Promise.all([n.e("chunk-6e6026d0"),n.e("chunk-11b721de")]).then(function(){var e=[n("efe3")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/detail/:id",name:"detail",component:function(t){Promise.all([n.e("chunk-1000482b"),n.e("chunk-6e6026d0"),n.e("chunk-5d218ef6")]).then(function(){var e=[n("8248")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/pay",name:"pay",component:function(t){n.e("chunk-6b3767aa").then(function(){var e=[n("7bb3")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/error/404",name:"error-404",component:function(t){n.e("chunk-2d0b309a").then(function(){var e=[n("2754")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/error/110",name:"error-110",component:function(t){n.e("chunk-2d2389e4").then(function(){var e=[n("ffc1")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}),S=n("e3dc"),O=new S["a"];a["a"].use(l["a"]);var D={state:{nowStatus:"loading"},mutations:{nowStatus:function(t,e){t.nowStatus=e}},getters:{nowStatus:function(t){return t.nowStatus}}},j={state:{length:O.length()},mutations:{setShopCarLength:function(t,e){t.length=e}},getters:{getShopCarLength:function(t){return t.length}}},_=new l["a"].Store({modules:{AppLoading:D,ShopCar:j}}),P=n("caf9");a["a"].use(P["a"]),a["a"].use(P["a"],{preLoad:1.3,error:"",loading:"",attempt:1}),console.log("❤❤❤ 本程序由 jon-millent 编写， github@ github.com/jon-millent ❤❤❤");C.beforeEach((function(t,e,n){_.commit("nowStatus","loading"),n()})),C.afterEach((function(t,e,n){_.commit("nowStatus","end"),setTimeout((function(){_.commit("nowStatus","hide")}),900),setTimeout((function(){_.commit("nowStatus","normal")}),1e3)})),a["a"].config.productionTip=!1,document.addEventListener("touchstart",(function(){}),!0),new a["a"]({render:function(t){return t(b)},router:C,store:_}).$mount("#app")},cf25:function(t,e,n){"use strict";var a=n("56cc"),o=n.n(a);o.a},e3dc:function(t,e,n){"use strict";var a=n("d225"),o=n("b0b4"),r=n("7618"),i=function(){function t(){Object(a["a"])(this,t)}return Object(o["a"])(t,[{key:"setItem",value:function(t,e){"object"==Object(r["a"])(e)&&(e=JSON.stringify(e)),window.localStorage&&window.localStorage.setItem(t,e)}},{key:"removeItem",value:function(t){window.localStorage&&window.localStorage.removeItem(t)}},{key:"getItem",value:function(t){var e="";return window.localStorage&&(e=window.localStorage.getItem(t)),{toString:function(){return e},toJson:function(){var t={};try{t=JSON.parse(e)}catch(n){t=null}return t},toNumber:function(){return parseFloat(e)}}}},{key:"getItemOnce",value:function(t){var e=this.getItem(t);return this.removeItem(t),{toString:function(){return e},toJson:function(){var t={};try{t=JSON.parse(e)}catch(n){t=null}return t},toNumber:function(){return parseFloat(e)}}}}]),t}(),c=i,s=new c,u=function(){function t(e){Object(a["a"])(this,t);var n=s.getItem("shop-car").toJson();n||s.setItem("shop-car",JSON.stringify(n={})),this.$store=e,this.shopCarDB=n}return Object(o["a"])(t,[{key:"upData",value:function(){s.setItem("shop-car",JSON.stringify(this.shopCarDB)),this.$store.commit("setShopCarLength",this.length())}},{key:"add",value:function(t){var e=t.id;if(e){if(this.shopCarDB[e])this.shopCarDB[e].length+=1;else{for(var n={},a=["title","money","id"],o=0;o<a.length;o++){var r=a[o];n[r]=t[r]}n.img=t.banner[0]?t.banner[0].src:"",n.link="/detail/"+t.id,n.length=1,this.shopCarDB[e]=n}this.upData()}}},{key:"minus",value:function(t){var e=t.id;e&&this.shopCarDB[e]&&(this.shopCarDB[e].length-=1,this.shopCarDB[e].length<=0&&this.remove(e),this.upData())}},{key:"remove",value:function(t){this.shopCarDB[t].length=0,delete this.shopCarDB[t],this.upData()}},{key:"removeAll",value:function(){this.shopCarDB={},this.upData()}},{key:"get",value:function(t){return this.shopCarDB[t]}},{key:"getAll",value:function(){return this.shopCarDB}},{key:"set",value:function(t,e,n){this.shopCarDB[t]&&(this.shopCarDB[t][e]=n,this.upData())}},{key:"setLength",value:function(t,e){this.shopCarDB[t]&&(this.shopCarDB[t].length=e),this.upData()}},{key:"length",value:function(){var t=0;for(var e in this.shopCarDB)t+=this.shopCarDB[e].length;return t}}]),t}();e["a"]=u}});
//# sourceMappingURL=app.7572344b.js.map